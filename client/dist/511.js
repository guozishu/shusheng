(self.webpackChunkclient=self.webpackChunkclient||[]).push([[511],{2511:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(7294),i=n(3727),l=function(){return(l=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function r(e){var t=(0,a.useState)([]),n=t[0],r=t[1],s=(0,a.useState)(["primary","link","info","success","warning","danger"])[0],c=(0,a.useState)(0),o=c[0],u=c[1],m=(0,a.useState)(1),p=m[0],f=m[1],d=(0,a.useState)([]),g=d[0],E=d[1],v=(0,a.useState)(""),h=v[0],N=v[1],k=function(e){var t=e.pageSize,n=e.pageIndex,a=e.isPagination,i=e.isInit,s=e.defaultPage,c={name:"glgnar0i59g",fields:"iclwhd7t1bp",condition:"psopt2djb1b",supplement:(n-1)*t+","+t,mappingProperty:"queryArticleList",searchKeyword:{keyword:h.trim(),fields:"title"}};!function(e,t){fetch(e.url,{body:JSON.stringify(e.params),headers:{"content-type":"application/json"},method:"POST"}).then((function(e){return e.json()})).then((function(e){!function(e){if(!e.code&&(r(e.data),i)){var t=Math.ceil(e.total.totalPage/12);u(t);for(var n=[],a=s||p;a<t-1;)n.push(++a);E(n)}}(e)}))}({url:"/query",params:c=l({needTotalPage:{isPagination:a,name:"d3x3bpbpog8",fields:"7kawqvnb61v"}},c)})};(0,a.useEffect)((function(){k({pageSize:12,pageIndex:1,isPagination:!0,isInit:!0})}),[]);var y=function(e){if(e>0&&e<=o&&f(e),e-2>0&&e+1<o&&E([e-1,e,e+1]),1===e){for(var t=[],n=1;n<o-1;)t.push(++n);E(t)}if(e===o){var a=[];for(n=o;n>2;)a.push(--n);E(a.sort((function(e,t){return e-t})))}e>0&&e<=o&&k({pageSize:12,pageIndex:e,isPagination:!1,isInit:!1})};return a.createElement("div",{className:"container"},a.createElement("div",{className:"notification is-success is-light"},a.createElement("div",{className:"block"},a.createElement("div",{className:"field is-grouped"},a.createElement("div",{className:"control is-expanded"},a.createElement("input",{className:"input",value:h,onChange:function(e){return N(e.target.value)},type:"text",placeholder:"关键字"})),a.createElement("div",{className:"control"},a.createElement("button",{onClick:function(){f(1),setTimeout((function(){k({pageSize:12,pageIndex:1,isPagination:!0,isInit:!0,defaultPage:1})}),300)},className:"button is-primary"},"搜索"))))),n.map((function(e,t){var n=e.id,l=e.title,r=e.name;return a.createElement(i.rU,{to:"update_note?id="+n,key:n},a.createElement("section",{className:"hero is-"+s[t%6]},a.createElement("div",{className:"hero-body"},a.createElement("p",{className:"title"},l),a.createElement("p",{className:"subtitle"},r))))})),a.createElement("nav",{className:"pagination is-centered"},a.createElement("a",{onClick:function(){return y(p-1)},className:"pagination-previous"},"上一页"),a.createElement("a",{onClick:function(){return y(p+1)},className:"pagination-next"},"下一页"),a.createElement("ul",{className:"pagination-list"},0!==o&&a.createElement("li",null,a.createElement("a",{onClick:function(){return y(1)},className:"pagination-link "+(1===p?"is-current":"")},"1")),p-1>3&&a.createElement("li",null,a.createElement("span",{className:"pagination-ellipsis"},"…")),g.map((function(e){return a.createElement("li",{key:e},a.createElement("a",{onClick:function(){return y(e)},className:"pagination-link "+(p===e?"is-current":"")},e))})),o-p>3&&a.createElement("li",null,a.createElement("span",{className:"pagination-ellipsis"},"…")),![1,0].includes(o)&&a.createElement("li",null,a.createElement("a",{onClick:function(){return y(o)},className:"pagination-link "+(p===o?"is-current":"")},o)))))}}}]);
//# sourceMappingURL=511.js.map